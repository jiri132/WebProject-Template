<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Marked in the browser</title>
  <!-- <link rel="stylesheet" href="github.css"> -->
  <link rel="stylesheet" href="main.css">
  <!-- <link href="https://cdn.jsdelivr.net/gh/hyrious/github-markdown-css@main/dist/dark_dimmed.css" rel="stylesheet"></link>  -->
</head>

<style>
    html{
      font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji";
      background-color: rgb(34, 39, 46);
      color: rgb(205, 217, 229);
    } 
    .border {
      border-style:solid;
      border-color: #2D333B;
      border-radius: 25px;
    }
    .border > #content{
      margin-left: 15px;
      padding-bottom: 15px;
    }
</style>

<body>
  <div class="border">
    <div id="content">

    </div>  
  </div>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script>


function GetURLParameter(sParam)
{
    var sPageURL = window.location.search.substring(1);
    var sURLVariables = sPageURL.split('&');
    for (var i = 0; i < sURLVariables.length; i++) 
    {
        var sParameterName = sURLVariables[i].split('=');
        if (sParameterName[0] == sParam) 
        {
            return sParameterName[1];
        }
    }
}


    var requestOptions = {
    method: 'GET',
    redirect: 'follow'
  };
let c = GetURLParameter('name');
let url = fetch(`https://raw.githubusercontent.com/jiri132/${c}/master/README.md`,requestOptions);

url.then(response => { 
        response.text().then(readme => {
            console.log(readme);
            document.getElementById('content').innerHTML = marked.parse(readme);
        });
     })
    .catch(error => console.log(`Couldn't Retrieve data from ${url} \nErr: ${error}`));      
  </script>
</body>
</html>